"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[906],{4507:function(e,t,r){r.d(t,{RF:function(){return v},OM:function(){return y},e$:function(){return F},Zv:function(){return d},wD:function(){return O},$j:function(){return x.Z}});var n=r(5861),a=r(885),s=r(7757),i=r.n(s),c=r(3243),o=r(6871),u=r(2791),l="Cast_list__GlWio",p="Cast_img__-isbW",m="Cast_item__a0CDL",h=r(184);var v=function(){var e=(0,u.useState)(!1),t=(0,a.Z)(e,2),r=t[0],s=t[1],v=(0,u.useState)([]),f=(0,a.Z)(v,2),d=f[0],_=f[1],g=(0,o.UO)().movieId;(0,u.useEffect)((function(){var e=function(){var e=(0,n.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,(0,c.bp)(g);case 4:t=e.sent,_(t.cast),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message);case 11:return e.prev=11,s(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[g]);var j=d.map((function(e){var t=e.id,r=e.name,n=e.profile_path;return n=n?"https://image.tmdb.org/t/p/w500/".concat(n):"https://upload.wikimedia.org/wikipedia/commons/4/47/GarvaGriha_in_KaryaBinayak.jpg",(0,h.jsxs)("li",{className:m,children:[(0,h.jsx)("img",{className:p,src:n,alt:r})," ",(0,h.jsx)("p",{children:r})]},t)}));return(0,h.jsxs)(h.Fragment,{children:[r&&(0,h.jsx)(x.Z,{}),d.length>0?(0,h.jsx)("ul",{className:l,children:j}):(0,h.jsx)("p",{children:"We don't have information about cast"})]})},f={};var d=function(){var e=(0,u.useState)(!1),t=(0,a.Z)(e,2),r=t[0],s=t[1],l=(0,u.useState)([]),p=(0,a.Z)(l,2),m=p[0],v=p[1],d=(0,o.UO)().movieId;(0,u.useEffect)((function(){var e=function(){var e=(0,n.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,(0,c.Jh)(d);case 4:t=e.sent,v(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message);case 11:return e.prev=11,s(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[d]);var _=m.map((function(e){var t=e.id,r=e.author,n=e.content;return(0,h.jsxs)("li",{children:[(0,h.jsxs)("h3",{children:["Author: ",r]}),(0,h.jsx)("p",{children:n})]},t)}));return(0,h.jsxs)(h.Fragment,{children:[r&&(0,h.jsx)(x.Z,{}),m.length>0?(0,h.jsx)("ul",{className:f.list,children:_}):(0,h.jsx)("p",{children:"We don't have any reviews for this movie, sorry"})]})},x=r(6957),_=r(501),g="MoviesList_list__0Owr9",j="MoviesList_item__eePYv",w="MoviesList_title__PB2c8",b="MoviesList_link__8rTGX",k="MoviesList_img__v4jFC";var y=function(e){var t=e.movies,r=(0,o.TH)(),n=t.map((function(e){var t=e.id,n=e.title,a=e.poster_path;a=a?"https://image.tmdb.org/t/p/w500/".concat(a):"https://upload.wikimedia.org/wikipedia/commons/4/47/GarvaGriha_in_KaryaBinayak.jpg";return(0,h.jsx)("li",{className:j,children:(0,h.jsxs)(_.rU,{to:"/movies/".concat(t),state:{from:r},className:b,children:[(0,h.jsx)("img",{src:a,alt:n,className:k,width:"200"}),(0,h.jsx)("p",{className:w,children:n.length<=40?n:n.slice(0,38)+"..."})]})},t)}));return(0,h.jsx)("ul",{className:g,children:n})},N="Searchbar_searchbar__0FWoU",Z="Searchbar_buttonIcon__bKJRf",S="Searchbar_input__19umw",C=r(8185),M=r(6409),O=function(){var e=(0,_.lr)(),t=(0,a.Z)(e,2),r=t[0],s=t[1],o=(0,u.useState)([]),l=(0,a.Z)(o,2),p=l[0],m=l[1],v=(0,u.useState)(!1),f=(0,a.Z)(v,2),d=f[0],g=f[1],j=(0,u.useRef)(null),w=r.get("query");(0,u.useEffect)((function(){var e=function(){var e=(0,n.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,(0,c.z1)(w);case 4:0===(t=e.sent).length&&M.Am.error("Oops, i dont have this movie, sorry",{theme:"colored"}),m(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:return e.prev=12,g(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}();w&&e()}),[w]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("header",{className:N,children:(0,h.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault();var t=""!==j.current.value?{query:j.current.value}:"";s(t),console.log("nextParams: ",t),t||M.Am.error("Search field is empty",{theme:"colored"})},children:[(0,h.jsx)("button",{type:"submit",className:Z,children:(0,h.jsx)(C.dVI,{size:"15px"})}),(0,h.jsx)("input",{ref:j,className:S,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})}),d&&(0,h.jsx)(x.Z,{}),p.length>0&&(0,h.jsx)(y,{movies:p})]})},D=(r(7186),{item:"OneMovieDetails_item__dqk7h",description:"OneMovieDetails_description__Cv6LY",img:"OneMovieDetails_img__wm6lH"});var F=function(e){var t=e.id,r=e.title,n=e.poster_path,a=e.release_date,s=e.vote_average,i=e.overview,c=e.genres,o=(10*s).toFixed(),u=new Date(a).getFullYear(),l=null===c||void 0===c?void 0:c.map((function(e){return e.name})).join(", ");return n=n?"https://image.tmdb.org/t/p/w500/".concat(n):"https://upload.wikimedia.org/wikipedia/commons/4/47/GarvaGriha_in_KaryaBinayak.jpg",(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:D.item,children:[(0,h.jsx)("img",{src:n,alt:r,className:D.img,width:"232"}),(0,h.jsxs)("div",{className:D.description,children:[(0,h.jsxs)("h2",{className:D.title,children:[r," (",u,")"]}),(0,h.jsxs)("p",{className:D.text,children:["User score: ",o||"Sorry, information not avalaible","%"]}),(0,h.jsx)("h3",{className:D.title,children:"Overview"}),(0,h.jsx)("p",{className:D.text,children:i||"Sorry, information not avalaible"}),(0,h.jsx)("h3",{className:D.title,children:"Genres"}),(0,h.jsx)("p",{className:D.text,children:l.length>0?l:"Sorry, information not avalaible"})]})]},t)})}},2906:function(e,t,r){r.r(t),r.d(t,{default:function(){return i}});var n=r(4507),a="MoviesPage_title__Coe7O",s=r(184);var i=function(){return(0,s.jsxs)("main",{children:[(0,s.jsx)("h2",{className:a,children:"Search movie"}),(0,s.jsx)(n.wD,{})]})}},3243:function(e,t,r){r.d(t,{Df:function(){return o},Jh:function(){return m},TP:function(){return l},bp:function(){return p},z1:function(){return u}});var n=r(5861),a=r(7757),s=r.n(a),i=r(4569),c=r.n(i)().create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"eb87ea8e65ad3520d4ba03c42b454490"}}),o=function(){var e=(0,n.Z)(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("/trending/movie/day");case 2:return t=e.sent,r=t.data,e.abrupt("return",r.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n,a,i=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:1,e.next=3,c.get("/search/movie",{params:{query:t,page:r}});case 3:return n=e.sent,a=n.data,e.abrupt("return",a.results);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("/movie/".concat(t));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("/movie/".concat(t,"/credits"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("/movie/".concat(t,"/reviews"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=906.65047751.chunk.js.map